(window.webpackJsonpreservations=window.webpackJsonpreservations||[]).push([[0],{179:function(e,t,a){e.exports=a(273)},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);a(180);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),c=a(50),i=a(160),s=a(32),u=a(7),d=a.n(u),m={startDate:null,endDate:null,price:10500,maxGuests:4,guests:{adults:1,children:0,infants:0},fees:[{id:"cleaning",description:"Cleaning Fee",info:"this is for being a bad boy",amount:2e3,startDate:null,endDate:null},{id:"service",description:"Service Fee",info:"payup dude",percent:15,startDate:null,endDate:null}],discounts:[{id:"early",description:"early bird discount",info:"first 3 customers discount",percent:10,startDate:null,endDate:null},{id:"repeat",description:"frequent guest discount",info:"payup dude",amount:500,startDate:null,endDate:null}],blockedDays:[]};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v=function(e){var t=e.startDate,a=e.endDate,n=e.blockedDays;if(t&&a)for(var r=d()(t);r.valueOf()<=a.valueOf();){if(b(r,n))return!0;r.add(1,"days")}return!1},b=function(e,t){var a=!0,n=!1,r=void 0;try{for(var l,o=t[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var c=l.value;if(e.valueOf()>=c.startDate.valueOf()&&e.valueOf()<=c.endDate.valueOf())return!0}}catch(i){n=!0,r=i}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return!1};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var h=Object(c.e)(Object(c.c)({reservation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_START_DATE":return p({},e,{startDate:t.startDate});case"SET_END_DATE":return v({startDate:e.startDate,endDate:t.endDate,blockedDays:e.blockedDays})?p({},e,{endDate:null}):p({},e,{endDate:t.endDate});case"SET_GUESTS":return p({},e,{guests:t.guests});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAuthenticated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT_USER_STATUS":return e;case"USER_SIGN_IN":return g({},e,{isAuthenticated:!0,firstName:"Luis",lastName:"Fortes",email:"lmlf100@gmail.com"});case"USER_SIGN_OUT":return g({},e,{isAuthenticated:!1});default:return e}}}),Object(c.d)(Object(c.a)(Object(i.createLogger)()),"object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),O=a(13),D=a(314),y=a(27),N=a(162),S=function(e){return{type:"SET_GUESTS",guests:e}},w=(a(267),function(){return r.a.createElement("svg",{viewBox:"0 0 24 24",role:"presentation","aria-hidden":"true",focusable:"false",style:{height:"24px",width:"24px",display:"block",fill:"currentcolor"}},r.a.createElement("path",{d:"m0 12.5a.5.5 0 0 0 .5.5h21.79l-6.15 6.15a.5.5 0 1 0 .71.71l7-7v-.01a.5.5 0 0 0 .14-.35.5.5 0 0 0 -.14-.35v-.01l-7-7a .5.5 0 0 0 -.71.71l6.15 6.15h-21.79a.5.5 0 0 0 -.5.5z",fillRule:"evenodd"}))}),j=(a(268),Object(O.b)(function(e){var t=e.reservation;return{startDate:t.startDate,endDate:t.endDate,blockedDays:t.blockedDays}})(function(e){var t=r.a.useState(null),a=Object(y.a)(t,2),n=a[0],l=a[1];return r.a.createElement("div",null,"Dates",r.a.createElement("br",null),r.a.createElement(N.DateRangePicker,{startDate:e.startDate,endDate:e.endDate,onDatesChange:function(t){var a=t.startDate,n=t.endDate;e.dispatch(function(e){return{type:"SET_START_DATE",startDate:e}}(a)),e.dispatch(function(e){return{type:"SET_END_DATE",endDate:e}}(n))},focusedInput:n,onFocusChange:function(e){return l(e)},numberOfMonths:1,showClearDates:!0,startDateId:"startDate",endDateId:"endDate",startDatePlaceholderText:"Check-in",endDatePlaceholderText:"Checkout",isDayBlocked:function(t){var a=!0,n=!1,r=void 0;try{for(var l,o=e.blockedDays[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var c=l.value;if(t.valueOf()>=c.startDate.valueOf()&&t.valueOf()<=c.endDate.valueOf())return!0}}catch(i){n=!0,r=i}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return!1},customArrowIcon:r.a.createElement(w,null)}))})),k=a(163),T=a(318),C=a(303),_=a(168),x=a.n(_),G=a(167),I=a.n(G),P=a(166),A=a.n(P),L=a(165),z=a.n(L),R=a(302),B=Object(k.a)(function(){return{container:{display:"flex",flexWrap:"nowrap",fontSize:"large",justifyContent:"space-around",alignItems:"center",paddingTop:5,paddingBottom:5},guestLabel:{fontSize:"large",minWidth:150},guestLabelInfo:{right:50,top:15,fontSize:"x-small"}}}),U=function(e){var t=B();return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.guestLabel},e.label,r.a.createElement("sub",{className:t.guestLabelInfo},e.info)),r.a.createElement(R.a,{"aria-label":"discount information","aria-controls":"discount-info","aria-haspopup":"true",className:t.icons,"data-guesttype":e.label,onClick:e.decreaseNumberOfGuests,color:"inherit"},r.a.createElement(z.a,{fontSize:"large"})),r.a.createElement("div",null,e.value),r.a.createElement(R.a,{"aria-label":"discount information","aria-controls":"discount-info","aria-haspopup":"true","data-guesttype":e.label,onClick:e.increaseNumberOfGuests,color:"inherit"},r.a.createElement(A.a,{fontSize:"large"})))},W=a(304),$=a(306),F=a(305),X=Object(k.a)(function(){return{rightIcon:{marginLeft:40},guestInput:{marginTop:10,marginBottom:10},iconSmall:{fontSize:20},guestButtonLabelPopoverOpened:{backgroundColor:"#99ede6"},popoverButton:{width:"100%"},guestCard:{paddingRight:5,paddingLeft:5},closePopoverButton:{position:"relative",left:"80%"},maxGuestsLabel:{wordWrap:"break-word",marginTop:15,paddingLeft:5}}}),H=Object(O.b)(function(e){var t=e.reservation,a=t.guests;return{adults:a.adults,children:a.children,infants:a.infants,maxGuests:t.maxGuests}})(function(e){var t=X(),a=r.a.useState(null),n=Object(y.a)(a,2),l=n[0],o=n[1],c=e.adults+e.children+e.infants,i=function(t){var a,n=t.currentTarget.dataset.guesttype;if(c-e.infants<e.maxGuests||"Infants"===n)switch(n){case"Adults":a=e.adults+1,e.dispatch(S({adults:a<=e.maxGuests?a:e.adults,children:e.children,infants:e.infants}));break;case"Children":a=e.children+1,e.dispatch(S({adults:e.adults,children:a<=e.maxGuests?a:e.children,infants:e.infants}));break;case"Infants":a=e.infants+1,e.dispatch(S({adults:e.adults,children:e.children,infants:a<=e.maxGuests?a:e.infants}))}},s=function(t){var a;if(c>0)switch(t.currentTarget.dataset.guesttype){case"Adults":a=e.adults-1,e.dispatch(S({adults:a>=0?a:e.adults,children:e.children,infants:e.infants}));break;case"Children":a=e.children-1,e.dispatch(S({adults:e.adults,children:a>=0?a:e.children,infants:e.infants}));break;case"Infants":a=e.infants-1,e.dispatch(S({adults:e.adults,children:e.children,infants:a>=0?a:e.infants}))}},u=function(){o(null)},d=Boolean(l),m=d?"simple-popover":void 0;return r.a.createElement("div",{className:t.guestInput},"Guests",r.a.createElement("br",null),r.a.createElement(C.a,{"aria-describedby":m,variant:"outlined",color:"default",className:t.popoverButton,onClick:function(e){o(e.currentTarget)}},r.a.createElement("span",{className:d?t.guestButtonLabelPopoverOpened:t.guestButtonLabelPopoverClosed},1===c?"1 guest":"".concat(c," guests")),d?r.a.createElement(I.a,{className:t.rightIcon}):r.a.createElement(x.a,{className:t.rightIcon})),r.a.createElement(T.a,{id:m,open:d,anchorEl:l,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(W.a,{className:t.guestCard},r.a.createElement(F.a,null,r.a.createElement(U,{label:"Adults",value:e.adults,info:"",decreaseNumberOfGuests:s,increaseNumberOfGuests:i}),r.a.createElement(U,{label:"Children",value:e.children,info:"ages 2-12",decreaseNumberOfGuests:s,increaseNumberOfGuests:i}),r.a.createElement(U,{label:"Infants",value:e.infants,info:"under 2",decreaseNumberOfGuests:s,increaseNumberOfGuests:i}),r.a.createElement("div",{className:t.maxGuestsLabel},e.maxGuests," maximum. Infants don't count toward the number of guests.")),r.a.createElement($.a,null,r.a.createElement(C.a,{color:"primary",size:"small",className:t.closePopoverButton,onClick:u},"Close")))))}),M=a(307),J=a(35),V=a.n(J),Y=Object(k.a)(function(){return{currency:{fontSize:20,fontWeight:800},divider:{marginTop:10,marginBottom:15}}}),q=Object(O.b)(function(e){return{price:e.reservation.price}})(function(e){var t=Y(),a="".concat("$").concat(V()(e.price/100).format("0,0"));return r.a.createElement("div",null,r.a.createElement("span",{className:t.currency},a)," per night",r.a.createElement(M.a,{className:t.divider}))}),K=(a(99),Object(O.b)(function(e){var t=e.reservation;return{startDate:t.startDate,endDate:t.endDate,price:t.price}})(function(e){var t=e.startDate,a=e.endDate,n=e.price,l=(a.valueOf()-t.valueOf())/864e5,o="".concat("$").concat(V()(n*l/100).format("0,0")),c="".concat("$").concat(V()(n/100).format("0,0"));return r.a.createElement("div",null,r.a.createElement("div",{className:"amount-items-container"},r.a.createElement("div",null,"".concat(c," X ").concat(1===l?"1 night":"".concat(l," nights"))),r.a.createElement("div",null,o)),r.a.createElement(M.a,{className:"amount-items-divider"}))})),Q=a(169),Z=a.n(Q),ee=function(e){var t=r.a.useState(null),a=Object(y.a)(t,2),n=a[0],l=a[1],o=Boolean(n),c=o?"simple-popover":void 0;return r.a.createElement("span",null,r.a.createElement(R.a,{"aria-label":"discount information","aria-controls":"discount-info","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit","aria-describedby":c,className:"amount-items-info-icon"},r.a.createElement(Z.a,{fontSize:"small","aria-describedby":c})),r.a.createElement(T.a,{id:c,open:o,anchorEl:n,onClose:function(){l(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement("span",null,"No Info")))},te=function(e,t,a){return e&&e.length&&e.map(function(e){return r.a.createElement("div",{key:e.id},function(e,t,a){var n=e.percent?V()(t*e.percent/100).format("0,0"):e.amount?V()(e.amount/100).format("0,0"):0;return n?r.a.createElement("div",null,r.a.createElement("div",{className:"amount-items-container"},r.a.createElement("div",null,e.percent?"".concat(e.percent,"% ").concat(e.description):"".concat(e.description),e.info&&r.a.createElement(ee,{info:e.info})),r.a.createElement("div",null,a&&"-"," ","$",n)),r.a.createElement(M.a,{className:"amount-items-divider"})):null}(e,t,a))})},ae=Object(O.b)(function(e){var t=e.reservation,a=(t.endDate.valueOf()-t.startDate.valueOf())/864e5,n=t.price*a/100;return{discounts:t.discounts,fees:t.fees,subtotal:n}})(function(e){var t=e.discounts,a=e.fees,n=e.subtotal;return r.a.createElement("div",null,te(t,n,!0),te(a,n))}),ne=function(e,t){var a=0;if(e&&e.length){var n=0,r=0;e.forEach(function(e){n+=e.percent?e.percent/100:0,r+=e.amount?e.amount/100:0}),a=r+t*n}return a},re=Object(O.b)(function(e){var t=e.reservation,a=(t.endDate.valueOf()-t.startDate.valueOf())/864e5,n=t.price*a/100,r=ne(t.discounts,n);return{total:n+ne(t.fees,n)-r}})(function(e){var t=e.total;return r.a.createElement("div",{className:"amount-items-container"},r.a.createElement("div",{className:"amount-items-total-label"},"Total"),r.a.createElement("div",null,"$",V()(t).format("0,0")))}),le=(a(269),function(e){return e.startDate&&e.endDate&&e.price?r.a.createElement("div",{className:"reservation-amounts-container"},r.a.createElement(K,null),r.a.createElement(ae,null),r.a.createElement(re,null)):null}),oe=Object(O.b)(function(e){var t=e.reservation;return{startDate:t.startDate,endDate:t.endDate,price:t.price}})(function(e){return r.a.createElement("div",{className:"reservation-container"},r.a.createElement(q,null),r.a.createElement(j,null),r.a.createElement(H,null),r.a.createElement(le,e),r.a.createElement(C.a,{className:"reservation-reserve-button",disabled:!e.startDate||!e.endDate||!e.price,variant:"contained",color:"secondary"},"Reserve"))}),ce=a(23),ie=a(45),se=function(){return r.a.createElement("div",null,"Hello World")},ue=(a(270),a(308)),de=function(e){var t=r.a.useState(!0),a=Object(y.a)(t,2),n=a[0],l=a[1],o=function(e){e.preventDefault(),l(!n)};return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},!n&&r.a.createElement("form",{name:"register"},r.a.createElement("input",{type:"text",placeholder:"name"}),r.a.createElement("input",{type:"password",placeholder:"password"}),r.a.createElement("input",{type:"email",placeholder:"email address"}),r.a.createElement("button",{className:"submit"},"create"),r.a.createElement("p",{className:"message"},"Already registered?",r.a.createElement(ue.a,{className:"link",component:"button",variant:"body2",onClick:o},"Sign In"))),n&&r.a.createElement("form",{name:"login"},r.a.createElement("input",{type:"email",placeholder:"email"}),r.a.createElement("input",{type:"password",placeholder:"password"}),r.a.createElement("button",{className:"submit",onClick:e.login},"sign in"),r.a.createElement("p",{className:"message"},"Not registered?",r.a.createElement(ue.a,{className:"link",component:"button",variant:"body2",onClick:o},"Create an account")))))},me=Object(O.b)()(function(e){var t=e.dispatch,a=r.a.useState(!1),n=Object(y.a)(a,2),l=n[0],o=n[1];return l?r.a.createElement(ie.a,{to:"/"}):r.a.createElement(de,{login:function(e){e.preventDefault(),t({type:"USER_SIGN_IN"}),o(!0)},signup:function(e){console.log(e),alert("Signup callback, see log on the console to see the data.")},recover:function(e){console.log(e),alert("Recover password callback, see log on the console to see the data.")}})}),fe=a(312),pe=a(313),ve=a(172),be=a.n(ve),Ee=a(171),ge=a.n(Ee),he=a(173),Oe=a.n(he),De=a(59),ye=a(309),Ne=a(310),Se=a(311),we=a(316),je=(a(272),Object(k.a)(function(){return{root:{flexGrow:1},list:{width:180},appTitle:{fontSize:"small",color:"yellow",position:"relative",right:42,top:22},items:{padding:15,flexGrow:1},greeting:{fontSize:"large",backgroundColor:"#3f51b5",padding:18,color:"#fff",textAlign:"right"}}})),ke=Object(O.b)(function(e){var t=e.user;return{isAuthenticated:t.isAuthenticated,firstName:t.firstName}})(function(e){var t=je(),a=r.a.useState({right:!1}),n=Object(y.a)(a,2),l=n[0],o=n[1],c=r.a.useState(""),i=Object(y.a)(c,2),s=i[0],u=i[1],d=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o({right:e})}},m=function(e){return u("Home"!==e&&"Sign in"!==e&&"Logout"!==e?e:""),null};return r.a.createElement("div",{className:t.root},r.a.createElement(fe.a,{position:"static"},r.a.createElement(pe.a,{disableGutters:!0},r.a.createElement(De.a,{onClick:m.bind(void 0,"Home"),to:"/"},r.a.createElement(R.a,{color:"inherit","aria-label":"home"},r.a.createElement(ge.a,{color:"secondary",fontSize:"large"}),r.a.createElement("div",{className:t.appTitle},"YoCasa"))),r.a.createElement("div",{className:t.items},s),r.a.createElement("div",null,r.a.createElement(R.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:d("right")},e.isAuthenticated?r.a.createElement(be.a,null):r.a.createElement(Oe.a,null)),r.a.createElement(we.a,{anchor:"right",open:l.right,onClose:d(!1)},r.a.createElement("div",{className:t.list,role:"presentation",onClick:d(!1),onKeyDown:d(!1)},r.a.createElement("div",{className:t.greeting},e.isAuthenticated?"Hello, ".concat(e.firstName):"Welcome to YoCasa"),r.a.createElement(M.a,null),r.a.createElement(ye.a,null,(e.isAuthenticated?[{name:"Manage Property",to:"/property"},{name:"Make Reservation",to:"/reservation"},{name:"Logout",to:"/logout"}]:[{name:"Sign in",to:"/login"}]).map(function(e){return r.a.createElement(Ne.a,{button:!0,key:e.name},r.a.createElement(De.a,{onClick:m.bind(void 0,e.name),className:"nostyle",to:e.to},r.a.createElement(Se.a,{primary:e.name})))}))))))))}),Te=Object(O.b)()(function(e){return(0,e.dispatch)({type:"USER_SIGN_OUT"}),r.a.createElement(ie.a,{to:"/"})}),Ce=function(){return r.a.createElement(ie.c,{history:Object(ce.a)()},r.a.createElement(O.a,{store:h,className:"main"},r.a.createElement(D.a,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,null),r.a.createElement(ie.d,null,r.a.createElement(ie.b,{exact:!0,path:"/reservation",component:oe}),r.a.createElement(ie.b,{exact:!0,path:"/login",component:me}),r.a.createElement(ie.b,{exact:!0,path:"/logout",component:Te}),r.a.createElement(ie.b,{component:se}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},99:function(e,t,a){}},[[179,1,2]]]);
//# sourceMappingURL=main.67085711.chunk.js.map